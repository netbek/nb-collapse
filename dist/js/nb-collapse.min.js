/*
 * nb-collapse
 * 
 * @author Hein Bekker <hein@netbek.co.za>
 * @copyright (c) 2015 Hein Bekker
 * @license http://www.gnu.org/licenses/agpl-3.0.txt AGPLv3
 */
!function(a,b){"use strict";function c(){var b={transitionDuration:1,transitionEase:"easeNoneLinear"};return{set:function(c){b=a.merge(!0,b,c)},$get:function(){return b}}}function d(a,c,d){return{restrict:"A",link:function(e,f,g){function h(a){return m=a,function(){m.call()}}function i(){p?(p=!1,j()):o.push(c(function(){a.addClass(f,"in",h(j))}))}function j(){f.removeClass("transitioning"),f.addClass("in"),f.css({height:"auto"})}function k(){f.addClass("transitioning"),p?(p=!1,f.css({height:0}),l()):o.push(c(function(){a.removeClass(f,"in",h(l))}))}function l(){f.removeClass("transitioning"),f.removeClass("in")}f.addClass("collapse");var m,n=[],o=[],p=!0;n.push(e.$watch(g.nbCollapse,function(a){a?k():i()})),e.$on("$destroy",function(){b.forEach(n,function(a){a()}),b.forEach(o,function(a){c.cancel(a)}),d.TweenMax.killTweensOf(f)})}}}function e(a,b){return{addClass:function(c,d,e){if("in"==d){var f=Number(c.attr("transition-duration"))||b.transitionDuration,g=c.attr("transition-ease")||b.transitionEase;a.TweenMax.to(c,f,{ease:g,height:c[0].scrollHeight,onComplete:e,overwrite:"all"})}},removeClass:function(c,d,e){if("in"==d){var f=Number(c.attr("transition-duration"))||b.transitionDuration,g=c.attr("transition-ease")||b.transitionEase;a.TweenMax.to(c,f,{ease:g,height:0,onComplete:e,overwrite:"all"})}}}}b.module("nb.collapse",["ngAnimate","nb.gsap"]).provider("nbCollapseConfig",c).directive("nbCollapse",d).animation(".in",e),d.$inject=["$animate","$timeout","GSAP"],e.$inject=["GSAP","nbCollapseConfig"]}(window,window.angular);