/*
 * nb-collapse
 * 
 * @author Hein Bekker <hein@netbek.co.za>
 * @copyright (c) 2015 Hein Bekker
 * @license http://www.gnu.org/licenses/agpl-3.0.txt AGPLv3
 */
!function(a,b,c){"use strict";function d(){var a={transitionDuration:1,transitionEase:"easeNoneLinear"};return{set:function(b){a=h(!0,{},a,b)},$get:function(){return a}}}function e(a,c,d){return{restrict:"A",link:function(e,f,g){function h(a){return m=a,function(){m.call()}}function i(){p?(p=!1,j()):o.push(c(function(){a.addClass(f,"in",h(j))}))}function j(){f.removeClass("transitioning"),f.addClass("in"),f.css({height:"auto"})}function k(){f.addClass("transitioning"),p?(p=!1,f.css({height:0}),l()):o.push(c(function(){a.removeClass(f,"in",h(l))}))}function l(){f.removeClass("transitioning"),f.removeClass("in")}f.addClass("collapse");var m,n=[],o=[],p=!0;n.push(e.$watch(g.nbCollapse,function(a){a?k():i()})),e.$on("$destroy",function(){b.forEach(n,function(a){a()}),b.forEach(o,function(a){c.cancel(a)}),d.TweenMax.killTweensOf(f)})}}}function f(a,b){return{addClass:function(c,d,e){if("in"==d){var f=Number(c.attr("transition-duration"))||b.transitionDuration,g=c.attr("transition-ease")||b.transitionEase;a.TweenMax.to(c,f,{ease:g,height:c[0].scrollHeight,onComplete:e,overwrite:"all"})}},removeClass:function(c,d,e){if("in"==d){var f=Number(c.attr("transition-duration"))||b.transitionDuration,g=c.attr("transition-ease")||b.transitionEase;a.TweenMax.to(c,f,{ease:g,height:0,onComplete:e,overwrite:"all"})}}}}function g(a){return!!a&&"object"==typeof a&&a.constructor===Object&&!a.nodeType&&a!==a.window}function h(){var a,d,e,f,i,j,k=arguments[0]||{},l=1,m=arguments.length,n=!1;for("boolean"==typeof k&&(n=k,k=arguments[l]||{},l++),g(k)||b.isFunction(k)||(k={}),l===m&&l--;m>l;l++)if(null!=(a=arguments[l]))for(d in a)e=k[d],f=a[d],k!==f&&(n&&f&&(g(f)||(i=b.isArray(f)))?(i?(i=!1,j=e&&b.isArray(e)?e:[]):j=e&&g(e)?e:{},k[d]=h(n,j,f)):f!==c&&(k[d]=f));return k}b.module("nb.collapse",["ngAnimate","nb.gsap"]).provider("nbCollapseConfig",d).directive("nbCollapse",e).animation(".in",f),e.$inject=["$animate","$timeout","GSAP"],f.$inject=["GSAP","nbCollapseConfig"]}(window,window.angular);